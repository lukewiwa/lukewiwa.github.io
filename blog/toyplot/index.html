<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>lukewiwa.github.io</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="## Build Setup"><meta data-n-head="ssr" data-hid="mobile-web-app-capable" name="mobile-web-app-capable" content="yes"><meta data-n-head="ssr" data-hid="apple-mobile-web-app-title" name="apple-mobile-web-app-title" content="lukewiwa.github.io"><meta data-n-head="ssr" data-hid="theme-color" name="theme-color" content="black"><meta data-n-head="ssr" data-hid="og:type" name="og:type" property="og:type" content="website"><meta data-n-head="ssr" data-hid="og:title" name="og:title" property="og:title" content="lukewiwa.github.io"><meta data-n-head="ssr" data-hid="og:site_name" name="og:site_name" property="og:site_name" content="lukewiwa.github.io"><meta data-n-head="ssr" data-hid="og:description" name="og:description" property="og:description" content="## Build Setup"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="manifest" href="/_nuxt/manifest.cb1beb10.json"><link data-n-head="ssr" rel="shortcut icon" href="/_nuxt/icons/icon_64.5f6a36.png"><link data-n-head="ssr" rel="apple-touch-icon" href="/_nuxt/icons/icon_512.5f6a36.png" sizes="512x512"><link rel="preload" href="/_nuxt/runtime.6b6eae6.js" as="script"><link rel="preload" href="/_nuxt/commons.app.6a8012a.js" as="script"><link rel="preload" href="/_nuxt/vendors.app.b753902.js" as="script"><link rel="preload" href="/_nuxt/app.b19e2f1.js" as="script"><link rel="preload" href="/_nuxt/pages/blog/[_]slug.94ea2fe.js" as="script"><style data-vue-ssr-id="38dfa7e4:0 517a8dd7:0 7e56e4e3:0">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}html{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,Helvetica Neue,Arial,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}*,:after,:before{box-sizing:border-box;border:0 solid #e2e8f0}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#a0aec0}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#a0aec0}input::-ms-input-placeholder,textarea::-ms-input-placeholder{color:#a0aec0}input::placeholder,textarea::placeholder{color:#a0aec0}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}.space-y-2>:not(template)~:not(template){--space-y-reverse:0;margin-top:calc(.5rem*(1 - var(--space-y-reverse)));margin-bottom:calc(.5rem*var(--space-y-reverse))}.space-y-4>:not(template)~:not(template){--space-y-reverse:0;margin-top:calc(1rem*(1 - var(--space-y-reverse)));margin-bottom:calc(1rem*var(--space-y-reverse))}.space-x-4>:not(template)~:not(template){--space-x-reverse:0;margin-right:calc(1rem*var(--space-x-reverse));margin-left:calc(1rem*(1 - var(--space-x-reverse)))}.space-y-10>:not(template)~:not(template){--space-y-reverse:0;margin-top:calc(2.5rem*(1 - var(--space-y-reverse)));margin-bottom:calc(2.5rem*var(--space-y-reverse))}.bg-teal-100{--bg-opacity:1;background-color:#e6fffa;background-color:rgba(230,255,250,var(--bg-opacity))}.border-gray-300{--border-opacity:1;border-color:#e2e8f0;border-color:rgba(226,232,240,var(--border-opacity))}.border-b{border-bottom-width:1px}.flex{display:flex}.grid{display:grid}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-between{justify-content:space-between}.font-light{font-weight:300}.font-normal{font-weight:400}.font-medium{font-weight:500}.font-semibold{font-weight:600}.h-16{height:4rem}.h-full{height:100%}.text-lg{font-size:1.125rem}.text-2xl{font-size:1.5rem}.text-5xl{font-size:3rem}.my-6{margin-top:1.5rem;margin-bottom:1.5rem}.mx-auto{margin-left:auto;margin-right:auto}.mr-2{margin-right:.5rem}.ml-2{margin-left:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mt-10{margin-top:2.5rem}.mb-20{margin-bottom:5rem}.max-w-screen-md{max-width:768px}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.pt-10{padding-top:2.5rem}.pb-20{padding-bottom:5rem}.static{position:static}.shadow-sm{box-shadow:0 1px 2px 0 rgba(0,0,0,.05)}.text-center{text-align:center}.text-gray-600{--text-opacity:1;color:#718096;color:rgba(113,128,150,var(--text-opacity))}.text-gray-700{--text-opacity:1;color:#4a5568;color:rgba(74,85,104,var(--text-opacity))}.z-20{z-index:20}.gap-3{grid-gap:.75rem;gap:.75rem}.grid-flow-row{grid-auto-flow:row}h1{font-size:1.5rem}h1,h2{margin-top:1rem;margin-bottom:.5rem}h2{font-size:1.25rem}h3{font-size:1.125rem}h3,h4{margin-top:1rem;margin-bottom:.5rem}a{color:#319795;color:rgba(49,151,149,var(--text-opacity));text-decoration:underline}a,a:hover{--text-opacity:1}a:hover{color:#285e61;color:rgba(40,94,97,var(--text-opacity))}p{margin-bottom:1.5rem;font-weight:300}.navlink{font-size:1.125rem;font-weight:300;text-decoration:none;border-bottom-width:2px;border-color:transparent}.navlink,.navlink:hover{--text-opacity:1;color:#2d3748;color:rgba(45,55,72,var(--text-opacity))}.navlink:hover{--border-opacity:1;border-color:#38b2ac;border-color:rgba(56,178,172,var(--border-opacity))}.bloglist-title{font-size:1.25rem;font-weight:500;--text-opacity:1;color:#319795;color:rgba(49,151,149,var(--text-opacity));text-decoration:none}.bloglist-title:hover{--text-opacity:1;color:#285e61;color:rgba(40,94,97,var(--text-opacity))}@media (min-width:640px){.sm\:grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}}@media (min-width:768px){.md\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}</style><link rel="preload" href="/_nuxt/static/1594004251/blog/toyplot/payload.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="text-gray-700 font-normal"><nav class="h-16 shadow-sm z-20 border-b border-gray-300"><div class="container mx-auto h-full flex flex-row items-center justify-between px-4"><div class="flex flex-row items-center"><a href="/" class="navlink nuxt-link-active">
        Wiwa
      </a></div> <div class="flex flex-row items-center space-x-4"><a href="/blog" class="navlink nuxt-link-active">Blog</a> <a href="/projects" class="navlink">Projects</a></div></div></nav> <article class="max-w-screen-md mx-auto px-6 mt-10 mb-20"><h1 class="font-semibold mb-4">Toyplot - A Simple Python Plotting Library</h1> <div class="mb-3 font-normal">7/12/2017</div> <div class="nuxt-content"><p>My previous attempts at using python for plotting saw me use the massive and widely used library of <a href="https://matplotlib.org" rel="nofollow,noopener,noreferrer" target="_blank">Matplotlib</a>. I managed to produce some workable plots which I exported to jpeg and used on one of my <a href="https://medium.com/@lukewiwa/the-2020-code-of-points-what-we-might-expect-28afdab4b095" rel="nofollow,noopener,noreferrer" target="_blank">medium articles</a>. Although extremely customisable and functional I began the search for a plotting library with a nicer API that would export to more web friendly formats such as html and SVG.</p>
<p>After some searching I stumbled upon <a href="http://toyplot.readthedocs.io" rel="nofollow,noopener,noreferrer" target="_blank">toyplot</a> which I've been quite happy with. I went ahead and updated the plots from my medium article using the library and uploaded the results to where I've mirrored that medium article <a href="/blog/the_2020_code_predictions">here</a>. The format options are various but I decided to export to an html/css/js format and simply copied and pasted into my static site generator.</p>
<p>The API is quite straight forward, it boils down to a single <code>Canvas</code> object which you can then add different attributes to. It's a nice way to block together the things you want. It doesn't seem to have hard opinions about what plot you are building to begin with which for me is nice as it generalises my code across different graph types. You tend to always begin the same way. Here's a quick snippet of the heat map plots I produced with it.</p>
<div class="nuxt-content-highlight"><pre class="language-python line-numbers"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> toyplot
<span class="token keyword">import</span> toyplot<span class="token punctuation">.</span>html

<span class="token comment"># initialise a pandas dataframe of the code of points</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>csv<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>f<span class="token punctuation">)</span>

<span class="token comment"># Produce heat map matrix. I chose Rings</span>
app_name <span class="token operator">=</span> <span class="token string">'Rings'</span>
matrix <span class="token operator">=</span> pd<span class="token punctuation">.</span>crosstab<span class="token punctuation">(</span>
    data<span class="token punctuation">[</span>data<span class="token punctuation">.</span>app<span class="token operator">==</span>app_name<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    data<span class="token punctuation">.</span>eg<span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token comment"># Some variables to make the plot pretty</span>
domain_min <span class="token operator">=</span> matrix<span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
domain_max <span class="token operator">=</span> matrix<span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
tlocator<span class="token operator">=</span>toyplot<span class="token punctuation">.</span>locator<span class="token punctuation">.</span>Explicit<span class="token punctuation">(</span>labels<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span><span class="token punctuation">)</span>
llocator<span class="token operator">=</span>toyplot<span class="token punctuation">.</span>locator<span class="token punctuation">.</span>Explicit<span class="token punctuation">(</span>labels<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>matrix<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span>
width <span class="token operator">=</span> <span class="token number">500</span>
height <span class="token operator">=</span> <span class="token number">600</span>
label <span class="token operator">=</span> app_name
tlabel <span class="token operator">=</span> <span class="token string">"Element Group"</span>
llabel <span class="token operator">=</span> <span class="token string">"Value"</span>
colormap <span class="token operator">=</span> toyplot<span class="token punctuation">.</span>color<span class="token punctuation">.</span>brewer<span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>
    <span class="token string">"Greens"</span><span class="token punctuation">,</span>
    reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
    domain_min<span class="token operator">=</span>domain_min<span class="token punctuation">,</span>
    domain_max<span class="token operator">=</span>domain_max<span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token comment"># initialise the Canvas object with variables above</span>
app_canvas<span class="token punctuation">,</span> app_table <span class="token operator">=</span> toyplot<span class="token punctuation">.</span>matrix<span class="token punctuation">(</span>
    <span class="token punctuation">(</span>matrix<span class="token punctuation">,</span> colormap<span class="token punctuation">)</span><span class="token punctuation">,</span>
    tlocator<span class="token operator">=</span>tlocator<span class="token punctuation">,</span>
    llocator<span class="token operator">=</span>llocator<span class="token punctuation">,</span>
    width<span class="token operator">=</span>width<span class="token punctuation">,</span>
    height<span class="token operator">=</span>height<span class="token punctuation">,</span>
    label<span class="token operator">=</span>label<span class="token punctuation">,</span>
    tlabel<span class="token operator">=</span>tlabel<span class="token punctuation">,</span>
    llabel<span class="token operator">=</span>llabel<span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token comment"># Clean up the Canvas, give it a name and render in html</span>
app_table<span class="token punctuation">.</span>body<span class="token punctuation">.</span>grid<span class="token punctuation">.</span>hlines<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"single"</span>
app_table<span class="token punctuation">.</span>body<span class="token punctuation">.</span>grid<span class="token punctuation">.</span>vlines<span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"single"</span>
plot_name <span class="token operator">=</span> <span class="token string">"{}.html"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>app_name<span class="token punctuation">)</span>
toyplot<span class="token punctuation">.</span>html<span class="token punctuation">.</span>render<span class="token punctuation">(</span>
    app_canvas<span class="token punctuation">,</span>
    plot_name<span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre></div>
<p>The output is a rather nice looking plot based on html, css and javascript. The result is below.</p>
<p><img alt="cool graph" src="/graphs/sr.svg"></p>
<p>The full code is available on <a href="https://github.com/lukewiwa/matrix_plots_code_of_points" rel="nofollow,noopener,noreferrer" target="_blank">Github</a> for anybody interested.</p></div></article></div></div></div><script>window.__NUXT__={staticAssetsBase:"/_nuxt/static/1594004251",layout:"default",error:null,serverRendered:!0,routePath:"/blog/toyplot",config:{}}</script><script src="/_nuxt/runtime.6b6eae6.js" defer></script><script src="/_nuxt/pages/blog/[_]slug.94ea2fe.js" defer></script><script src="/_nuxt/commons.app.6a8012a.js" defer></script><script src="/_nuxt/vendors.app.b753902.js" defer></script><script src="/_nuxt/app.b19e2f1.js" defer></script>
  </body>
</html>
